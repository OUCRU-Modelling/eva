[
  {
    "objectID": "ipsum.html",
    "href": "ipsum.html",
    "title": "2  Demographic data from census 2019",
    "section": "",
    "text": "3 Age pyramid\nThe wealth asset index was constructed by principal components analysis (PCA) using information on the ownership of dwelling, water supply, air condition, computer, washer, refrigerator, tv, radio, electricity, hot water, phone that are related to the household’s wealth. Follow https://pmc.ncbi.nlm.nih.gov/articles/PMC5348557/ and https://rpubs.com/Sternonyos/526030\nCode\nlibrary(psych)\n\ndf$ownership &lt;- ifelse(df$OWNERSHIP == 1,1,0)\ndf$watsup &lt;- ifelse(df$WATSUP == 10,1,0)\ndf$aircon &lt;- ifelse(df$AIRCON == 10,0,1)\ndf$computer &lt;- ifelse(df$COMPUTER == 2,1,0)\ndf$washer &lt;- ifelse(df$WASHER == 2,1,0)\ndf$refrig &lt;- ifelse(df$REFRIG == 2,1,0)\ndf$tv &lt;- ifelse(df$TV == 20,1,0)\ndf$radio &lt;- ifelse(df$RADIO == 2,1,0)\ndf$electric &lt;- ifelse(df$ELECTRIC == 1,1,0)\ndf$hotwater &lt;- ifelse(df$HOTWATER == 2,1,0)\ndf$phone &lt;- ifelse(df$PHONE == 2,1,0)\n\nwealth_index &lt;- df[,c(\"qh\",\"ownership\",\"watsup\",\"aircon\",\"computer\",\n                      \"washer\",\"refrig\",\"tv\",\"radio\",\"electric\",\n                      \"hotwater\",\"phone\")] \n\nprn&lt;- principal(wealth_index[,-1], rotate=\"varimax\", \n                      nfactors=3,covar=T, scores=TRUE)\nindex=prn$scores[,1]\nnlab&lt;-c(1,2,3,4,5)\nnewdata&lt;-mutate(wealth_index,\n                quintile=as.factor(cut(index,breaks=5,labels=nlab)))\n\nwealdf &lt;- newdata %&gt;% group_by(qh,quintile) %&gt;% count()\n\nwealdf$quintile &lt;-  case_when(\n  wealdf$quintile == 1 ~ \"Poorest, 20%\",\n  wealdf$quintile == 2 ~ \"Near poor, 20%\",\n  wealdf$quintile == 3 ~ \"Middle, 20%\",\n  wealdf$quintile == 4 ~ \"Richer, 20%\",\n  wealdf$quintile == 5 ~ \"Richest, 20%\") %&gt;% \n  factor(levels = c(\"Poorest, 20%\", \n                    \"Near poor, 20%\",\n                    \"Middle, 20%\",\n                    \"Richer, 20%\",\n                    \"Richest, 20%\")\n  )\n\nwealdf %&gt;% scale_per() %&gt;% \n  ggplot() +\n  geom_col(aes(x = per,\n               y = quintile)) +\n  facet_wrap(vars(qh),\n             # scales = \"free\",\n             ncol = 5)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Socioeconomic status (quintile)\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 6),\n        axis.text.y = element_text(size = 6))"
  },
  {
    "objectID": "ipsum.html#social-variable",
    "href": "ipsum.html#social-variable",
    "title": "2  Demographic data from census 2019",
    "section": "4.1 Social Variable",
    "text": "4.1 Social Variable\n\nEducationUran-rural statusNumber of own children under age 5 in householdReligionOwership\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nOwnership of dwelling"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Equity in Vaccine Access in Ho Chi Minh City",
    "section": "",
    "text": "Timely vaccination"
  },
  {
    "objectID": "vac_cov.html",
    "href": "vac_cov.html",
    "title": "1  Measles vaccine coverage",
    "section": "",
    "text": "2 Vaccine coverage in Ho Chi Minh city\nCode\ndate_compute &lt;- seq(as.Date(\"2022-09-01\"),as.Date(\"2024-11-20\"),by = \"weeks\")\n\n\n## second dose\nout_fn &lt;- data.frame()\n\nfor (i in 1:length(date_compute)){\n  cov &lt;- df %&gt;% \n    mutate(\n      age = decimal_date(date_compute[i]) - decimal_date(dob),\n      is_m2 = if_else(date_m2 &lt;= date_compute[i], 1, 0))  %&gt;% \n    filter(age &gt;= 1, age &lt;= 5) %&gt;% \n    summarise(m2 = sum(is_m2, na.rm = T), n = n(), cov = m2/n)\n  \n  cov_2w &lt;- df %&gt;% \n    mutate(\n      age = decimal_date(date_compute[i]) - decimal_date(dob),\n      is_m2 = if_else(date_m2 &lt;= date_compute[i] %m-% weeks(2), 1, 0))  %&gt;% \n    filter(age &gt;= 1 + 0.5/12, age &lt;= 5 + 0.5/12) %&gt;% \n    summarise(m2 = sum(is_m2, na.rm = T), n = n(), cov = m2/n)\n  \n  out &lt;- data.frame(date = as.Date(date_compute[i]),\n                    cov = as.numeric(cov$cov),\n                    cov_2w = as.numeric(cov_2w$cov))\n  \n  out_fn &lt;- rbind(out_fn,out)\n}\n\n\n## first dose\nout_fn1 &lt;- data.frame()\n\nfor (i in 1:length(date_compute)){\n\n  cova &lt;- df %&gt;% \n    mutate(\n      age = decimal_date(date_compute[i]) - decimal_date(dob),\n      is_m1 = if_else(date_m1 &lt;= date_compute[i], 1, 0))  %&gt;% \n    filter(age &gt;= 0.75, age &lt;= 5) %&gt;% \n    summarise(m1 = sum(is_m1, na.rm = T), n = n(), cov = m1/n)\n  \n  cov_2wa &lt;- df %&gt;% \n    mutate(\n      age = decimal_date(date_compute[i]) - decimal_date(dob),\n      is_m1 = if_else(date_m1 &lt;= date_compute[i] %m-% weeks(2), 1, 0))  %&gt;% \n    filter(age &gt;= 0.75 + 0.5/12, age &lt;= 5 + 0.5/12) %&gt;% \n    summarise(m1 = sum(is_m1, na.rm = T), n = n(), cov = m1/n)\n  \n  outa &lt;- data.frame(date = as.Date(date_compute[i]),\n                    cov = as.numeric(cova$cov),\n                    cov_2w = as.numeric(cov_2wa$cov))\n  \n  out_fn1 &lt;- rbind(out_fn1,outa)\n}\nCode\nvac_co &lt;- ggplot()+\n  geom_line(data = out_fn,aes(x = date,y = cov*100,color=\"2\"))+\n  geom_line(data = out_fn1,aes(x = date,y = cov*100,color=\"1\"))+\n  scale_y_continuous(limits = c(0, 100), breaks = seq(0,100,by = 10)) +\n  labs(x = \"Date\",y = \"Vaccine coverage (%)\")+\n  scale_x_date(breaks = \"4 month\",\n               date_labels= \"%b %Y\",\n               limits = c(as.Date(\"2022-09-01\"),as.Date(\"2024-11-20\")))+\n  theme(axis.text.x = element_text(angle = 45,size = 8,\n                                   hjust=1))+\n  scale_color_manual(name=\"Dose\", values=c(\"1\"=\"red\", \"2\"=\"blue\"))+\n  theme_bw()\n\nvac_co2w &lt;-ggplot()+\n  geom_line(data = out_fn,aes(x = date,y = cov_2w*100,color=\"2\"))+\n  geom_line(data = out_fn1,aes(x = date,y = cov_2w*100,color=\"1\"))+\n  scale_y_continuous(limits = c(0, 100), breaks = seq(0,100,by = 10)) +\n  labs(x = \"Date\",y = \"Vaccine coverage with 2-week hypothesis (%)\")+\n  scale_x_date(breaks = \"4 month\",\n               date_labels= \"%b %Y\",\n               limits = c(as.Date(\"2022-09-01\"),as.Date(\"2024-11-20\")))+\n  theme(axis.text.x = element_text(angle = 45,size = 8,\n                                   hjust=1))+\n  scale_color_manual(name=\"Dose\", values=c(\"1\"=\"red\", \"2\"=\"blue\"))+\n  theme_bw()\n\nvac_co | vac_co2w\nCode\ndis &lt;- unique(df$district) \n\nout_d &lt;- data.frame()\nout_d1 &lt;- data.frame()\n\nfor (k in 1:length(dis)){\n  dfd &lt;- df %&gt;% filter(district == dis[k])\n  for (i in 1:length(date_compute)){\n    cov &lt;- dfd %&gt;% \n      mutate(\n        age = decimal_date(date_compute[i]) - decimal_date(dob),\n        is_m2 = if_else(date_m2 &lt;= date_compute[i], 1, 0))  %&gt;% \n      filter(age &gt;= 1, age &lt;= 5) %&gt;% \n      summarise(m2 = sum(is_m2, na.rm = T), n = n(), cov = m2/n)\n    \n    cov_2w &lt;- dfd %&gt;% \n      mutate(\n        age = decimal_date(date_compute[i]) - decimal_date(dob),\n        is_m2 = if_else(date_m2 &lt;= date_compute[i] %m-% weeks(2), 1, 0))  %&gt;% \n      filter(age &gt;= 1 + 0.5/12, age &lt;= 5 + 0.5/12) %&gt;% \n      summarise(m2 = sum(is_m2, na.rm = T), n = n(), cov = m2/n)\n    \n    out_d1 &lt;- data.frame(district = as.character(dis[k]),\n                      date = as.Date(date_compute[i]),\n                      cov = as.numeric(cov$cov),\n                      cov_2w = as.numeric(cov_2w$cov))\n    \n    out_d &lt;- rbind(out_d,out_d1)\n  }  \n}\nCode\nmeancv &lt;- out_d %&gt;% \n  group_by(district) %&gt;% \n  summarise(mean = mean(cov)) \n\nsorted &lt;- meancv[order(-meancv$mean),]\nCode\n# IPSUM\ndf &lt;- readRDS(\"D:/OUCRU/IPSUM/ipumsi_hcmc_2019.rds\")\n\ndf$qh &lt;- case_when(\n  df$GEO2_VN == 704079760 ~ \"Quận 1\",\n  df$GEO2_VN == 704079761 ~ \"Quận 12\",\n  df$GEO2_VN == 704079762 ~ \"Thủ Đức\",\n  df$GEO2_VN == 704079763 ~ \"Thủ Đức\",\n  df$GEO2_VN == 704079764 ~ \"Gò Vấp\",\n  df$GEO2_VN == 704079765 ~ \"Bình Thạnh\",\n  df$GEO2_VN == 704079766 ~ \"Tân Bình\",\n  df$GEO2_VN == 704079767 ~ \"Tân Phú\",\n  df$GEO2_VN == 704079768 ~ \"Phú Nhuận\",\n  df$GEO2_VN == 704079769 ~ \"Thủ Đức\",\n  df$GEO2_VN == 704079770 ~ \"Quận 3\",\n  df$GEO2_VN == 704079771 ~ \"Quận 10\",\n  df$GEO2_VN == 704079772 ~ \"Quận 11\",\n  df$GEO2_VN == 704079773 ~ \"Quận 4\",\n  df$GEO2_VN == 704079774 ~ \"Quận 5\",\n  df$GEO2_VN == 704079775 ~ \"Quận 6\",\n  df$GEO2_VN == 704079776 ~ \"Quận 8\",\n  df$GEO2_VN == 704079777 ~ \"Bình Tân\", \n  df$GEO2_VN == 704079778 ~ \"Quận 7\",\n  df$GEO2_VN == 704079783 ~ \"Củ Chi\",\n  df$GEO2_VN == 704079784 ~ \"Hóc Môn\",\n  df$GEO2_VN == 704079785 ~ \"Bình Chánh\",\n  df$GEO2_VN == 704079786 ~ \"Nhà Bè\",\n  df$GEO2_VN == 704079787 ~ \"Cần Giờ\") %&gt;% \n  stri_trans_general(\"latin-ascii\") %&gt;%\n  str_remove_all(\"Quan\") %&gt;% \n  trimws(which = \"both\")\n\n\ndf$agr = df$AGE2 %&gt;% as.factor()\n\nlevels(df$agr) = c(\"0-4\", \"5-9\", \"10-14\",\"15-19\",\n                   \"20-24\",\"25-29\",\"30-34\",\"35-39\",\n                   \"40-44\",\"45-49\",\"50-54\",\"55-59\",\n                   \"60-64\",\"65-69\",\"70-74\",\"75-79\",\n                   \"80-84\",\"85+\")\n\ndf$sex &lt;- ifelse(df$SEX == 1,\"male\",\"female\")\n\n\nagepyr &lt;- df[,c(\"agr\",\"sex\",\"qh\")] %&gt;% group_by(qh,agr,sex) %&gt;% count()\n\nagepyr &lt;- agepyr %&gt;% mutate(\n  population2 = case_when(\n    sex == \"female\" ~ -n,\n    TRUE ~ n\n  )) %&gt;% as.data.frame()\n\npop_range &lt;- range(agepyr$population2 %&gt;% na.omit())\n\npop_range_breaks &lt;- pretty(pop_range, n = 6)\n\npop_range_breaks1 &lt;- pretty(pop_range*0.085, n = 10)\nCode\nhcm19 &lt;- readRDS(\"D:/OUCRU/hfmd/data/census2019.rds\") %&gt;% \n  filter(province == \"Thành phố Hồ Chí Minh\")\n\nhcm19$district &lt;- hcm19$district %&gt;%\n  str_remove_all(\"Quận|Huyện\") %&gt;%\n  str_replace_all(\n    c(\"\\\\b2\\\\b|\\\\b9\\\\b\"  = \"Thủ Đức\")) %&gt;%\n  stri_trans_general(\"latin-ascii\") %&gt;% \n  trimws(which = \"both\")\n\n\nhcm19$age2 &lt;- as.numeric(word(hcm19$age, 1))\n\n\nhcm19$agr &lt;- as.factor(cut(as.numeric(hcm19$age2), \n              c(0,4, 9, 14,19,24,29,34,39,44,49,54,59,64,69,74,79,84,Inf), \n              right=TRUE ))\n\nlevels(hcm19$agr) = c(\"0-4\", \"5-9\", \"10-14\",\"15-19\",\n                   \"20-24\",\"25-29\",\"30-34\",\"35-39\",\n                   \"40-44\",\"45-49\",\"50-54\",\"55-59\",\n                   \"60-64\",\"65-69\",\"70-74\",\"75-79\",\n                   \"80-84\",\"85+\")\npopdis &lt;- hcm19 %&gt;% group_by(district) %&gt;% \n    summarise(n = sum(n))\ndistrict &lt;- popdis$district\n\n\n## function to scale per\nscale_per &lt;- function(data){\n  ou &lt;- data.frame()\n  for (i in 1:22){\n    oo &lt;- data %&gt;% filter(qh == district[i]) %&gt;% \n      mutate(pop = rep(as.numeric(popdis$n[popdis$district == district[i]])),\n             per = (n/pop)*100)\n    ou &lt;- rbind(ou,oo)\n  }\n  return(ou)\n}\nCode\n## education\n\ndf$edu &lt;-  case_when(\n  df$EDATTAIN == 0 ~ \"NIU\",\n  df$EDATTAIN == 1 ~ \"Less than primary completed\",\n  df$EDATTAIN == 2 ~ \"Primary completed\",\n  df$EDATTAIN == 3 ~ \"Secondary completed\",\n  df$EDATTAIN == 4 ~ \"University completed\") %&gt;% \n  \n  factor(levels = c(\"NIU\", \n             \"Less than primary completed\", \n             \"Primary completed\", \n             \"Secondary completed\", \n             \"University completed\")\n)\n\nhcm_edu &lt;- df %&gt;% group_by(qh,edu) %&gt;% count()\n\n## urban status\ndf$urban &lt;- ifelse(df$URBAN == 2,\"Urban\",\"Rural\")\nurban &lt;- df %&gt;% group_by(qh,urban) %&gt;% count() \n\n\n## number of children under 5 years old\nhcm_chil5 &lt;- df %&gt;% group_by(qh,NCHLT5) %&gt;% count()\n\n## religion\n\ndf$reli &lt;-  case_when(\n  df$RELIGION == 1 ~ \"No religion\",\n  df$RELIGION == 2 ~ \"Buddhist\",\n  df$RELIGION == 5 ~ \"Muslim\",\n  df$RELIGION == 6 ~ \"Christian\",\n  df$RELIGION == 7 ~ \"Other\") \n\nhcm_reli &lt;- df %&gt;% group_by(qh,reli) %&gt;% count()\n\n## ownership\ndf$owner &lt;-  case_when(\n  df$OWNERSHIPD == 0 ~ \"NIU\",\n  df$OWNERSHIPD == 100 ~ \"Owned\",\n  df$OWNERSHIPD == 214 ~ \"Renting, private\",\n  df$OWNERSHIPD == 211 ~ \"Renting, government\",\n  df$OWNERSHIPD == 217 ~ \"Renting, collective\",\n  df$OWNERSHIPD == 290 ~ \"Not owned, other\") \nowner &lt;- df %&gt;% group_by(qh,owner) %&gt;% count()\nCode\n## plot\nvac_cov &lt;- out_d %&gt;% mutate(dis = factor(district,\n                              levels = as.character(sorted$district))) %&gt;% \nggplot()+\n  geom_line(aes(x = date,y = cov*100,color=\"2\"))+\n  scale_y_continuous(limits = c(0, 100), breaks = seq(0,100,by = 10)) +\n  labs(x = \"Date\",y = \"Vaccine coverage (%)\")+\n  scale_x_date(breaks = \"4 months\",\n               date_labels= \"%b %Y\",\n               limits = c(as.Date(\"2022-09-01\"),as.Date(\"2024-11-20\")))+\n  facet_wrap(vars(dis),ncol = 1)+\n  scale_color_manual(name=\"Dose\", values=c(\"1\"=\"red\", \"2\"=\"blue\"))+\n  theme_bw()+\n  theme(axis.text.x = element_text(angle = 45,size = 8,hjust=1),\n        axis.text.y = element_text(size = 6))\n\ntime_vac &lt;- out_timely %&gt;% mutate(dis = factor(district, levels = as.character(sorted$district))) %&gt;% \n  ggplot(aes(x = date,y = per*100))+\n  geom_line()+\n  # scale_y_continuous(limits = c(50, 100), breaks = seq(50,100,by = 10)) +\n  labs(x = \"Date\",y = \"Timely vaccination percentage (%)\")+\n  scale_x_date(breaks = \"2 months\",\n               date_labels= \"%b %Y\")+\n  facet_wrap(vars(dis),ncol = 1)+\n  theme_bw()+\n  theme(axis.text.x = element_text(angle = 45,size = 8,\n                                   hjust=1))\n\n# age_prm &lt;- agepyr %&gt;% mutate(dis = factor(qh, \n#                                  levels = as.character(sorted$district))) %&gt;% \n#   ggplot() +\n#   geom_col(aes(x = population2,\n#                y = agr,\n#                fill = sex)) +\n#   # geom_col(aes(x = population2.y,\n#   #              y = agr,\n#   #              fill = sex),alpha=0.5) +\n#   scale_x_continuous(breaks  = pop_range_breaks1,\n#                      labels = abs(pop_range_breaks1))+\n#   facet_wrap(vars(dis),\n#              # scales = \"free\",\n#              ncol = 1)+\n#   theme_light()+\n#   labs(x = \"Population\",y = \"Age group\")+\n#   theme(axis.text.x = element_text(size = 4.5),\n#         axis.text.y = element_text(size = 4))\n\nedu &lt;- scale_per(hcm_edu) %&gt;% \n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;% \n  ggplot() +\n  geom_col(aes(x = per,\n               y = edu)) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Education\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15)) \n\nurb &lt;- scale_per(urban) %&gt;% \n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;%\n  ggplot() +\n  geom_col(aes(x = per,\n               y = urban)) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Urban-rural status\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15))\n\nchild5 &lt;- scale_per(hcm_chil5) %&gt;%\n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;%\n  # filter(NCHLT5 != 0) %&gt;%\n  ggplot() +\n  geom_col(aes(x = per,\n               y = as.factor(NCHLT5))) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Number of own children under age 5 in household\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15)) \n\nreli &lt;- scale_per(hcm_reli) %&gt;%\n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;%\n  ggplot() +\n  geom_col(aes(x = per,\n               y = as.factor(reli))) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Religion\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15))\nCall:\nlm(formula = mean ~ edu + urban + reli + owner + NCHLT5, data = demo_cov)\n\nCoefficients:\n                   (Intercept)  eduLess than primary completed  \n                     0.8520387                       0.0003210  \n          eduPrimary completed          eduSecondary completed  \n                    -0.0003535                       0.0004169  \n       eduUniversity completed                      urbanUrban  \n                     0.0011054                       0.0032846  \n                 reliChristian                      reliMuslim  \n                    -0.0025493                       0.0007573  \n               reliNo religion                       reliOther  \n                    -0.0013317                       0.0071242  \n         ownerNot owned, other                      ownerOwned  \n                    -0.0035805                      -0.0044847  \n      ownerRenting, collective        ownerRenting, government  \n                    -0.0042068                      -0.0069416  \n         ownerRenting, private                          NCHLT5  \n                    -0.0059307                      -0.0004462\nCode\nlibrary(stringi)\nlibrary(lubridate)\ndttlv$date_m1_ontime &lt;- dttlv$dob %m+% months(9)\ndttlv$delay &lt;- interval(dttlv$date_m1_ontime,dttlv$date_m1) / months(1)"
  },
  {
    "objectID": "vac_cov.html#ho-chi-minh-city",
    "href": "vac_cov.html#ho-chi-minh-city",
    "title": "1  Measles vaccine coverage",
    "section": "2.1 Ho Chi Minh City",
    "text": "2.1 Ho Chi Minh City"
  },
  {
    "objectID": "vac_cov.html#districts",
    "href": "vac_cov.html#districts",
    "title": "1  Measles vaccine coverage",
    "section": "3.2 Districts",
    "text": "3.2 Districts"
  },
  {
    "objectID": "vac_cov.html#ipsum-demographic-data",
    "href": "vac_cov.html#ipsum-demographic-data",
    "title": "1  Measles vaccine coverage",
    "section": "2.2 IPSUM (demographic data)",
    "text": "2.2 IPSUM (demographic data)"
  },
  {
    "objectID": "vac_cov.html#social-variable",
    "href": "vac_cov.html#social-variable",
    "title": "1  Measles vaccine coverage",
    "section": "8.1 Social Variable",
    "text": "8.1 Social Variable"
  },
  {
    "objectID": "vac_cov.html#census-2019",
    "href": "vac_cov.html#census-2019",
    "title": "1  Measles vaccine coverage",
    "section": "5.1 Census 2019",
    "text": "5.1 Census 2019"
  },
  {
    "objectID": "vac_cov.html#ipsum-2019",
    "href": "vac_cov.html#ipsum-2019",
    "title": "1  Measles vaccine coverage",
    "section": "3.1 IPSUM 2019",
    "text": "3.1 IPSUM 2019"
  },
  {
    "objectID": "vac_cov.html#education",
    "href": "vac_cov.html#education",
    "title": "1  Measles vaccine coverage",
    "section": "8.2 Education",
    "text": "8.2 Education"
  },
  {
    "objectID": "vac_cov.html#uran-rural-status",
    "href": "vac_cov.html#uran-rural-status",
    "title": "1  Measles vaccine coverage",
    "section": "8.3 Uran-rural status",
    "text": "8.3 Uran-rural status"
  },
  {
    "objectID": "vac_cov.html#number-of-own-children-under-age-5-in-household",
    "href": "vac_cov.html#number-of-own-children-under-age-5-in-household",
    "title": "1  Measles vaccine coverage",
    "section": "8.4 Number of own children under age 5 in household",
    "text": "8.4 Number of own children under age 5 in household"
  },
  {
    "objectID": "vac_cov.html#religion",
    "href": "vac_cov.html#religion",
    "title": "1  Measles vaccine coverage",
    "section": "8.5 Religion",
    "text": "8.5 Religion"
  },
  {
    "objectID": "vac_cov.html#owership",
    "href": "vac_cov.html#owership",
    "title": "1  Measles vaccine coverage",
    "section": "8.6 Owership",
    "text": "8.6 Owership\n\n\n\n\n\n\nVaccine coverageTimely vaccination percentage"
  },
  {
    "objectID": "nestedness.html",
    "href": "nestedness.html",
    "title": "3  Nestedness analysis",
    "section": "",
    "text": "Code\nlibrary(vegan)\nlibrary(tidyverse)\nlibrary(stringi)\n\n\n\n\nCode\ndf &lt;- readRDS(\"D:/OUCRU/IPSUM/ipumsi_hcmc_2019.rds\")\n\ndf$qh &lt;- case_when(\n  df$GEO2_VN == 704079760 ~ \"Quận 1\",\n  df$GEO2_VN == 704079761 ~ \"Quận 12\",\n  df$GEO2_VN == 704079762 ~ \"Thủ Đức\",\n  df$GEO2_VN == 704079763 ~ \"Thủ Đức\",\n  df$GEO2_VN == 704079764 ~ \"Gò Vấp\",\n  df$GEO2_VN == 704079765 ~ \"Bình Thạnh\",\n  df$GEO2_VN == 704079766 ~ \"Tân Bình\",\n  df$GEO2_VN == 704079767 ~ \"Tân Phú\",\n  df$GEO2_VN == 704079768 ~ \"Phú Nhuận\",\n  df$GEO2_VN == 704079769 ~ \"Thủ Đức\",\n  df$GEO2_VN == 704079770 ~ \"Quận 3\",\n  df$GEO2_VN == 704079771 ~ \"Quận 10\",\n  df$GEO2_VN == 704079772 ~ \"Quận 11\",\n  df$GEO2_VN == 704079773 ~ \"Quận 4\",\n  df$GEO2_VN == 704079774 ~ \"Quận 5\",\n  df$GEO2_VN == 704079775 ~ \"Quận 6\",\n  df$GEO2_VN == 704079776 ~ \"Quận 8\",\n  df$GEO2_VN == 704079777 ~ \"Bình Tân\", \n  df$GEO2_VN == 704079778 ~ \"Quận 7\",\n  df$GEO2_VN == 704079783 ~ \"Củ Chi\",\n  df$GEO2_VN == 704079784 ~ \"Hóc Môn\",\n  df$GEO2_VN == 704079785 ~ \"Bình Chánh\",\n  df$GEO2_VN == 704079786 ~ \"Nhà Bè\",\n  df$GEO2_VN == 704079787 ~ \"Cần Giờ\") %&gt;% \n  stri_trans_general(\"latin-ascii\") %&gt;%\n  str_remove_all(\"Quan\") %&gt;% \n  trimws(which = \"both\")\n\n##\n\ndf$ownership &lt;- ifelse(df$OWNERSHIP == 1,1,0)\ndf$water_supply &lt;- ifelse(df$WATSUP == 10,1,0)\ndf$aircon &lt;- ifelse(df$AIRCON == 10,0,1)\ndf$computer &lt;- ifelse(df$COMPUTER == 2,1,0)\ndf$washer &lt;- ifelse(df$WASHER == 2,1,0)\ndf$refrig &lt;- ifelse(df$REFRIG == 2,1,0)\ndf$tv &lt;- ifelse(df$TV == 20,1,0)\ndf$radio &lt;- ifelse(df$RADIO == 2,1,0)\ndf$electric &lt;- ifelse(df$ELECTRIC == 1,1,0)\ndf$hotwater &lt;- ifelse(df$HOTWATER == 2,1,0)\ndf$phone &lt;- ifelse(df$PHONE == 2,1,0)\n\nwealth_index &lt;- df[,c(\"qh\",\"ownership\",\"water_supply\",\"aircon\",\"computer\",\n                      \"washer\",\"refrig\",\"tv\",\"radio\",\"electric\",\n                      \"hotwater\",\"phone\")] \n\n\n\n\nCode\nd1 &lt;- nestedtemp(wealth_index[,-1])\n\nplot(d1, kind=\"incid\",names = TRUE,ylab=\"\",yaxt=\"n\",las=1)"
  },
  {
    "objectID": "vac_cov.html#delay-distribution-of-hcmc",
    "href": "vac_cov.html#delay-distribution-of-hcmc",
    "title": "1  Measles vaccine coverage",
    "section": "5.1 Delay distribution of HCMC",
    "text": "5.1 Delay distribution of HCMC\n\n\nCode\ndttlv %&gt;% na.omit() %&gt;% \n  filter(delay &gt; 0 & date_m1_ontime &gt;= as.Date(\"2022-05-01\")\n         & date_m1_ontime &lt;= as.Date(\"2023-12-31\")) %&gt;% \n  ggplot(aes(x=delay)) +\n  geom_density()+\n  labs(x = \"Month\")"
  },
  {
    "objectID": "vac_cov.html#each-districts-with-demographic-variables",
    "href": "vac_cov.html#each-districts-with-demographic-variables",
    "title": "1  Measles vaccine coverage",
    "section": "5.2 Each districts with demographic variables",
    "text": "5.2 Each districts with demographic variables\n\n\nCode\nmeandl &lt;- dttlv %&gt;% na.omit() %&gt;% \n  filter(delay &gt; 0 & date_m1_ontime &gt;= as.Date(\"2022-05-01\")\n         & date_m1_ontime &lt;= as.Date(\"2023-12-31\")) %&gt;% \n  group_by(district) %&gt;% \n  summarise(median = median(delay,na.rm = T)) \n\nsorted &lt;- meandl[order(-meandl$median),]\n\n\n\n\nCode\nvac_dl &lt;- dttlv %&gt;% \n  mutate(dis = factor(district, \n         levels = as.character(sorted$district))) %&gt;% \n  filter(delay &gt; 0 & date_m1_ontime &gt;= as.Date(\"2022-05-01\")\n         & date_m1_ontime &lt;= as.Date(\"2023-12-31\")) %&gt;% \n  ggplot(aes(x=delay)) +\n  geom_density()+\n  labs(x = \"Month\")+\n  xlim(0,5)+\n  facet_wrap(vars(dis),ncol = 1)+\n  theme_bw()+\n  theme(axis.text.x = element_text(angle = 45,size = 8,\n                                   hjust=1)) \n##\nmonth &lt;- seq(as.Date(\"2022-05-01\"),as.Date(\"2024-01-01\"),by = \"month\")\ndis2 &lt;- dttlv$district %&gt;% unique()\nuot &lt;- data.frame()\nuot2 &lt;- data.frame()\nfor (k in 1:length(dis2)){\n  dtd &lt;- dttlv %&gt;% filter(district == dis2[k])\n  for (i in 1:(length(month)-1)){\n    emon &lt;- dtd %&gt;% na.omit() %&gt;% \n      filter(date_m1_ontime &gt;= month[i] & \n               date_m1_ontime &lt;= month[i+1] &\n               delay &gt; 0)\n    uot2 &lt;- data.frame(district = dis2[k],\n                       month = month[i],\n                       del = median(emon$delay)) \n    uot &lt;- rbind(uot,uot2)\n  }  \n}\n\nmonth_delay &lt;- uot %&gt;% \n  mutate(dis = factor(district, \n                      levels = as.character(sorted$district))) %&gt;%\n  ggplot(aes(x = month,y=del)) +\n  geom_bar(stat = \"identity\")+\n  labs(x = \"Month\", y = \"The median of delayed month\")+\n  facet_wrap(vars(dis),ncol = 1)+\n  scale_x_date(breaks = \"2 months\",\n               date_labels= \"%b %Y\")+\n  theme_bw()+\n  theme(axis.text.x = element_text(angle = 45,size = 8,\n                                   hjust=1)) \n##\nedu &lt;- scale_per(hcm_edu) %&gt;% \n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;% \n  ggplot() +\n  geom_col(aes(x = per,\n               y = edu)) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Education\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15)) \n\nurb &lt;- scale_per(urban) %&gt;% \n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;%\n  ggplot() +\n  geom_col(aes(x = per,\n               y = urban)) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Urban-rural status\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15))\n\nchild5 &lt;- scale_per(hcm_chil5) %&gt;%\n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;%\n  # filter(NCHLT5 != 0) %&gt;%\n  ggplot() +\n  geom_col(aes(x = per,\n               y = as.factor(NCHLT5))) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Number of own children under age 5 in household\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15)) \n\nreli &lt;- scale_per(hcm_reli) %&gt;%\n  mutate(dis = factor(qh,\n                      levels = as.character(sorted$district))) %&gt;%\n  ggplot() +\n  geom_col(aes(x = per,\n               y = as.factor(reli))) +\n  facet_wrap(vars(dis),\n             # scales = \"free\",\n             ncol = 1)+\n  labs(x = \"Percentage of total population(%)\",\n       y = \"Religion\")+\n  theme_light()+\n  theme(axis.text.x = element_text(size = 15),\n        axis.text.y = element_text(size = 15)) \n\n\n\n\nCode\nvac_dl |month_delay |edu |urb | child5 | reli"
  }
]